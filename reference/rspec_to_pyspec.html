<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Low level functions to convert between Spectra and matchms Spectrum — rspec_to_pyspec • SpectriPy</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Low level functions to convert between Spectra and matchms Spectrum — rspec_to_pyspec"><meta property="og:description" content="The rspec_to_pyspec and pyspec_to_rspec functions allow to convert
R Spectra() objects into matchms
Python Spectrum objects. These functions are designed for
advanced users or developers who want/need to integrate Python/matchms
functionality into R using reticulate. All other users should use the
dedicated R functions within this package that take care of running the
Python code in the correct Python environment.
Parameter mapping allows to define which spectra variables (metadata)
should be copied between the R and Python spectra. Only provided spectra
variables will be copied to R respectively Python. mapping also defines
the mapping between the Spectra's spectra variables and the Spectrum
metadata. The names of the character vector mapping are the R spectra
variables and the values the corresponding names in the Python's Spectrum
metadata. See the output of the spectraVariableMapping() function for the
default variables and the mapping of the names.
The spectraVariableMapping function provides a default mapping of some
core Spectra variables based on this definition in matchms.
The function returns a named vector that can be directly used as parameter
mapping in the rspec_to_pyspec and pyspec_to_rspec functions."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpectriPy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/SpectriPy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/RforMassSpectrometry/SpectriPy/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Low level functions to convert between Spectra and matchms Spectrum</h1>
    <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/SpectriPy/blob/HEAD/R/conversion.R" class="external-link"><code>R/conversion.R</code></a></small>
    <div class="hidden name"><code>rspec_to_pyspec.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>rspec_to_pyspec</code> and <code>pyspec_to_rspec</code> functions allow to convert
R <code><a href="https://rdrr.io/pkg/Spectra/man/Spectra.html" class="external-link">Spectra()</a></code> objects into <a href="https://github.com/matchms/matchms" class="external-link">matchms</a>
Python <code>Spectrum</code> objects. These functions are designed for
<strong>advanced users or developers</strong> who want/need to integrate Python/matchms
functionality into R using <code>reticulate</code>. All other users should use the
dedicated R functions within this package that take care of running the
Python code in the correct Python environment.</p>
<p>Parameter <code>mapping</code> allows to define which spectra variables (metadata)
should be copied between the R and Python spectra. Only provided spectra
variables will be copied to R respectively Python. <code>mapping</code> also defines
the mapping between the <code>Spectra</code>'s spectra variables and the Spectrum
metadata. The names of the character vector <code>mapping</code> are the R spectra
variables and the values the corresponding names in the Python's Spectrum
metadata. See the output of the <code><a href="https://rdrr.io/pkg/Spectra/man/spectraVariableMapping.html" class="external-link">spectraVariableMapping()</a></code> function for the
default variables and the mapping of the names.</p>
<p>The <code>spectraVariableMapping</code> function provides a default mapping of some
core <code>Spectra</code> variables based on this <a href="https://github.com/matchms/matchms/blob/master/matchms/data/known_key_conversions.csv" class="external-link">definition in matchms</a>.
The function returns a named vector that can be directly used as parameter
<code>mapping</code> in the <code>rspec_to_pyspec</code> and <code>pyspec_to_rspec</code> functions.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="co"># S4 method for missing</span>
<span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/spectraVariableMapping.html" class="external-link">spectraVariableMapping</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">rspec_to_pyspec</span><span class="op">(</span>
  <span class="va">x</span>,
  mapping <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/spectraVariableMapping.html" class="external-link">spectraVariableMapping</a></span><span class="op">(</span><span class="op">)</span>,
  reference <span class="op">=</span> <span class="fu">import</span><span class="op">(</span><span class="st">"matchms"</span><span class="op">)</span>,
  BPPARAM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocParallel/man/SerialParam-class.html" class="external-link">SerialParam</a></span><span class="op">(</span><span class="op">)</span>,
  .check <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="fu">pyspec_to_rspec</span><span class="op">(</span>
  <span class="va">x</span>,
  mapping <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/spectraVariableMapping.html" class="external-link">spectraVariableMapping</a></span><span class="op">(</span><span class="op">)</span>,
  BPPARAM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocParallel/man/SerialParam-class.html" class="external-link">SerialParam</a></span><span class="op">(</span><span class="op">)</span>,
  .check <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>ignored.</p></dd>
<dt>...</dt>
<dd><p>ignored.</p></dd>
<dt>x</dt>
<dd><p>For <code>rspec_to_pyspec</code>: <code>Spectra</code> object. For <code>pyspec_to_rspec</code>:
an Python list of matchms Spectrum objects.</p></dd>
<dt>mapping</dt>
<dd><p>Named <code>character</code> providing the spectra variable names
(metadata) to convert. Names are expected to be the spectr variable names
and values the corresponding names of the Python Spectrum metadata
fields. See description above for more details.</p></dd>
<dt>reference</dt>
<dd><p>Optional reference to Python environment <code>matchms</code>.</p></dd>
<dt>BPPARAM</dt>
<dd><p>Optional parallel processing setup.</p></dd>
<dt>.check</dt>
<dd><p>Optionally disable input parameter checking. Input parameter
checking should only disabled for very good reasons.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>For <code>rspec_to_pyspec</code>: Python array of Spectrum objects, same
length than <code>x</code>. Fpr <code>pyspec_to_rspec</code>: <code><a href="https://rdrr.io/pkg/Spectra/man/Spectra.html" class="external-link">Spectra()</a></code> with the converted
spectra. For <code>spectraVariableMapping</code>: named <code>character</code> vector with
names being <code>Spectra</code> variable names and values the corresponding names
in <code>matchms</code>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Michael Witting, Johannes Rainer</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">## List the default spectra variables and their mapping.</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/spectraVariableMapping.html" class="external-link">spectraVariableMapping</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  precursorMz           precursorIntensity </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "precursor_mz"        "precursor_intensity" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              precursorCharge                        rtime </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     "charge"             "retention_time" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              collisionEnergy      isolationWindowTargetMz </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           "collision_energy" "isolation_window_target_mz" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      msLevel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   "ms_level" </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael Witting, Johannes Rainer, Carolin Huber, Helge
Hecht.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

